(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(29),o=c.n(s),i=(c(36),c(4)),l=(c(37),c(10)),r=c(2),d=c(12),j=c(11),h=c(9),p=c.n(h),b=c(0),m=function(e){var t,c,a,s=Object(n.useState)({title:"",name:"",description:"",photo:""}),o=Object(i.a)(s,2),l=o[0],r=o[1],h=Object(n.useState)({title:"",name:"",description:""}),m=Object(i.a)(h,2),u=m[0],O=m[1],g=function(e){console.log("Changing form!"),"file"===e.target.type?r(Object(j.a)(Object(j.a)({},l),{},Object(d.a)({},e.target.name,e.target.files[0]))):r(Object(j.a)(Object(j.a)({},l),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(b.jsx)("div",{className:"form",children:Object(b.jsxs)("form",{className:"product-form",onSubmit:function(t){t.preventDefault();var c=new FormData;c.append("title",l.title),c.append("name",l.name),c.append("description",l.description),c.append("photo",l.photo),console.log("submitting"),console.log(l),p.a.post("http://localhost:8000/api/snapshot/create",c).then((function(t){console.log(t),t.data.err?O(t.data.err.errors):(e.setFormSubmitted(!e.formSubmitted),r({title:"",name:"",description:"",photo:null}),O({title:"",name:"",description:""}))})).catch((function(e){return console.log("error submitting post request --\x3e",e)}))},enctype:"multipart/form-data",children:[Object(b.jsx)("h2",{children:"Create a Snapshot"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(b.jsx)("input",{onChange:g,className:"form-control",name:"title",type:"text",id:"title",value:l.title}),Object(b.jsx)("p",{className:"text-danger",children:null===(t=u.title)||void 0===t?void 0:t.message})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Written By:"}),Object(b.jsx)("input",{onChange:g,className:"form-control",name:"name",type:"text",id:"name",value:l.name}),Object(b.jsx)("p",{className:"text-danger",children:null===(c=u.name)||void 0===c?void 0:c.message})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(b.jsx)("textarea",{onChange:g,className:"form-control",id:"description",name:"description",rows:"4",cols:"20",value:l.description}),Object(b.jsx)("p",{className:"text-danger",children:null===(a=u.description)||void 0===a?void 0:a.message})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"photo",children:"Upload a Snapshot:"}),Object(b.jsx)("input",{onChange:g,className:"form-control",type:"file",accept:".png, .jpg, .jpeg",name:"photo"})]}),Object(b.jsx)("button",{type:"submit",className:"btn form-button mt-3",children:"Create"})]})})},u=function(e){var t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)([]),r=Object(i.a)(o,2),d=(r[0],r[1],Object(n.useState)(!1)),j=Object(i.a)(d,2),h=j[0],m=(j[1],Object(n.useState)("")),u=Object(i.a)(m,2),O=u[0],g=u[1];Object(n.useEffect)((function(){p.a.get("http://localhost:8000/api/snapshot").then((function(e){console.log("response when getting all snapshots--\x3e",e),console.log(e.data),s(e.data)})).catch((function(e){return console.log("ERROR",e)}))}),[e.formSubmitted,h]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"search-bar",children:Object(b.jsx)("form",{children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"search",children:"Search:"}),Object(b.jsx)("input",{onChange:function(e){console.log("changed"),g(e.target.value),console.log(O)},type:"text",id:"search",name:"search",placeholder:"Search for a snapshot"})]})})}),Object(b.jsx)("div",{className:"left-side",children:Object(b.jsx)("div",{className:"all-snapshots-container container-fluid",children:Object(b.jsx)("div",{className:"row",children:a.filter((function(e,t){return e.title.toLowerCase().includes(O.toLowerCase())})).map((function(e,t){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"card",style:{backgroundImage:"url(http://localhost:8000/".concat(e.photo,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:Object(b.jsx)(l.b,{to:"api/snapshot/".concat(e._id),children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:e.title}),Object(b.jsx)("h4",{}),"                                                    ",Object(b.jsxs)("h6",{className:"card-subtitle",children:["By: ",e.name]})]})},t)})})}))})})})]})},O=function(){var e=Object(r.g)().id,t=Object(r.f)(),c=Object(n.useState)({}),a=Object(i.a)(c,2),s=a[0],o=a[1];Object(n.useEffect)((function(){p.a.get("http://localhost:8000/api/snapshot/".concat(e)).then((function(e){console.log("Response when trying to get one snapshot details",e),o(e.data[0])})).catch((function(e){return console.log("ERR:",e)}))}),[]);return Object(b.jsx)("div",{className:"details",children:Object(b.jsxs)("div",{className:"single-card",children:[Object(b.jsx)("h2",{children:s.title}),Object(b.jsxs)("p",{children:["Written By: ",s.name]}),Object(b.jsx)("img",{src:"http://localhost:8000/".concat(s.photo),alt:"photo",height:"400px"}),Object(b.jsxs)("p",{children:["Description: ",s.description]}),Object(b.jsxs)("button",{onClick:function(c){console.log("delete you"),p.a.delete("http://localhost:8000/api/snapshot/delete/".concat(e)).then((function(e){console.log("response after deleting->",e),t.push("/")})).catch((function(e){return console.log(e)}))},className:"btn btn-danger",children:["Delete ",s.title]}),Object(b.jsxs)(l.b,{className:"btn btn-info",to:"/api/snapshot/update/".concat(s._id),children:["Edit ",s.title]})]})})},g=function(e){var t,c,a,s=Object(r.g)().id,o=Object(r.f)(),h=Object(n.useState)({title:"",name:"",description:""}),m=Object(i.a)(h,2),u=m[0],O=m[1],g=Object(n.useState)({}),x=Object(i.a)(g,2),f=(x[0],x[1]),v=Object(n.useState)({title:"",name:"",description:""}),N=Object(i.a)(v,2),S=N[0],y=N[1];Object(n.useEffect)((function(){p.a.get("http://localhost:8000/api/snapshot/".concat(s)).then((function(e){console.log("Response when trying to get one snapshot details",e),O(e.data[0]),f(e.data[0])})).catch((function(e){return console.log("ERR:",e)}))}),[]);var F=function(e){console.log("Changing the form!"),O(Object(j.a)(Object(j.a)({},u),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"form",children:Object(b.jsxs)("form",{className:"product-form",onSubmit:function(t){t.preventDefault();var c=new FormData;c.append("title",u.title),c.append("name",u.name),c.append("description",u.description),c.append("photo",u.photo),console.log("Form info submitted!"),console.log(u),p.a.put("http://localhost:8000/api/snapshot/update/".concat(s),u).then((function(t){console.log(t),t.data.err?y(t.data.err.errors):(e.setFormSubmitted(!e.formSubmitted),O({title:"",name:"",description:""}),y({title:"",name:"",description:""}),o.push("/"))})).catch((function(e){return console.log("error submitting post request --\x3e",e)}))},children:[Object(b.jsx)("h2",{children:"Update Snapshot"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{onChange:F,name:"title",type:"text",id:"title",value:u.title}),Object(b.jsx)("p",{className:"text-danger",children:null===(t=S.title)||void 0===t?void 0:t.message})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Written By:"}),Object(b.jsx)("input",{onChange:F,name:"name",type:"text",id:"name",value:u.name}),Object(b.jsx)("p",{className:"text-danger",children:null===(c=S.name)||void 0===c?void 0:c.message})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"description",children:"Description"}),Object(b.jsx)("textarea",{onChange:F,id:"description",name:"description",rows:"4",cols:"40",value:u.description}),Object(b.jsx)("p",{className:"text-danger",children:null===(a=S.description)||void 0===a?void 0:a.message})]}),Object(b.jsx)("img",{src:"http://localhost:8000/".concat(u.photo),alt:"photo",height:"400px"}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"photo",children:"Upload a Snapshot:"}),Object(b.jsx)("input",{onChange:F,type:"file",accept:".png, .jpg, .jpeg",name:"photo"})]}),Object(b.jsx)("button",{type:"submit",className:"btn form-button mt-3",children:"Update"}),Object(b.jsx)(l.b,{className:"btn btn-primary mt-3",to:"/",children:"Home"})]})})})};var x=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(b.jsx)(l.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{className:"header",children:Object(b.jsx)(l.b,{to:"/",children:Object(b.jsx)("h1",{children:"SnapShot"})})}),Object(b.jsxs)(r.c,{children:[Object(b.jsx)(r.a,{exact:!0,path:"/",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"col-sm",children:Object(b.jsx)(u,{formSubmitted:c})}),Object(b.jsx)("div",{className:"col-lg-4",children:Object(b.jsx)(m,{formSubmitted:c,setFormSubmitted:a})})]})}),Object(b.jsx)(r.a,{exact:!0,path:"/api/snapshot/:id",children:Object(b.jsx)(O,{})}),Object(b.jsx)(r.a,{exact:!0,path:"/api/snapshot/update/:id",children:Object(b.jsx)(g,{formSubmitted:c,setFormSubmitted:a})})]})]})})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,63)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),s(e),o(e)}))};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root")),f()}},[[62,1,2]]]);
//# sourceMappingURL=main.2a43042f.chunk.js.map